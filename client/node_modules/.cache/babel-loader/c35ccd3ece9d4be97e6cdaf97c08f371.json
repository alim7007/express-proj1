{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/shapochka/webs/nodeProject1/client/src/components/screens/LoginScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./LoginScreen.css\";\nimport Navbar from '../Navbar';\nimport Footer from '../Footer';\n\nconst LoginScreen = ({\n  history\n}) => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (localStorage.getItem(\"authToken\")) {\n      history.push(\"/\");\n    }\n  }, [history]);\n\n  const loginHandler = async e => {\n    e.preventDefault();\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/login\", {\n        email,\n        password\n      }, config);\n      localStorage.setItem(\"authToken\", data.token);\n      history.push(\"/\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-center align-items-center mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 offset-md-3 col-xl-4 offset-xl-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card shadow\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"card-title\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 21\n                }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error-message\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  form: true,\n                  onSubmit: loginHandler,\n                  className: \"validated-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      htmlFor: \"email\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 59,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control\",\n                      onChange: e => setEmail(e.target.value),\n                      value: email,\n                      type: \"email\",\n                      id: \"email\",\n                      name: \"email\",\n                      required: true,\n                      autocomplete: \"off\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 60,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"valid-feedback\",\n                      children: \"Looks good!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 62,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      htmlFor: \"password\",\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 68,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control\",\n                      onChange: e => setPassword(e.target.value),\n                      value: password,\n                      type: \"password\",\n                      id: \"password\",\n                      name: \"password\",\n                      required: true,\n                      autoComplete: \"off\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"valid-feedback\",\n                      children: \"Looks good!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-success btn-block\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"g-signin2\",\n                    \"data-onsuccess\": \"onSignIn\",\n                    \"data-longtitle\": \"true\",\n                    children: \"button\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LoginScreen, \"8U/OabU8FwTNvYwfZel/UK3ReX4=\");\n\n_c = LoginScreen;\nexport default LoginScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginScreen\");","map":{"version":3,"sources":["/home/shapochka/webs/nodeProject1/client/src/components/screens/LoginScreen.js"],"names":["useState","useEffect","axios","Link","Navbar","Footer","LoginScreen","history","email","setEmail","password","setPassword","error","setError","localStorage","getItem","push","loginHandler","e","preventDefault","config","header","data","post","setItem","token","response","setTimeout","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./LoginScreen.css\";\nimport Navbar from '../Navbar'\nimport Footer from '../Footer'\n\nconst LoginScreen = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (localStorage.getItem(\"authToken\")) {\n      history.push(\"/\");\n    }\n  }, [history]);\n\n  const loginHandler = async (e) => {\n    e.preventDefault();\n\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    try {\n      const { data } = await axios.post(\n        \"/login\",\n        { email, password },\n        config\n      );\n\n      localStorage.setItem(\"authToken\", data.token);\n\n      history.push(\"/\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return (\n  <>\n  <Navbar/>\n    <main className=\"container mt-5\">\n  <div className=\"container d-flex justify-content-center align-items-center mt-5\">\n    <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 col-xl-4 offset-xl-4\">\n            <div className=\"card shadow\">\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\">Login</h5>\n                    {error && <span className=\"error-message\">{error}</span>}\n                    <form form onSubmit={loginHandler} className=\"validated-form\">\n                        <div className=\"mb-3\">\n                            <label className=\"form-label\" htmlFor=\"email\">Email</label>\n                            <input className=\"form-control\" onChange={(e) => setEmail(e.target.value)}\n                            value={email} type=\"email\" id=\"email\" name=\"email\" required autocomplete=\"off\"/>\n                            <div className=\"valid-feedback\">\n                                Looks good!\n                            </div>\n                        </div>\n\n                        <div className=\"mb-3\">\n                            <label className=\"form-label\" htmlFor=\"password\">Password</label>\n                            <input className=\"form-control\" onChange={(e) => setPassword(e.target.value)}\n                           value={password} type=\"password\" id=\"password\" name=\"password\" required autoComplete=\"off\" />\n                            <div className=\"valid-feedback\">\n                                Looks good!\n                            </div>\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-success btn-block\">Login</button>\n                        <div className=\"g-signin2\" data-onsuccess=\"onSignIn\" data-longtitle=\"true\">button</div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</main>\n<Footer/>\n  </>\n  );\n};\n\nexport default LoginScreen;\n"]},"metadata":{},"sourceType":"module"}